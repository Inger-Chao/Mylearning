 　　【考查目标】
　　1、理解单处理器计算机系统中各部件的内部工作原理、组成结构以及相互连接方式，具有完整的计算机系统的整机概念。
　　2、理解计算机系统层次化结构概念，熟悉硬件与软件之间的界面，掌握指令集体系结构的基本知识和基本实现方法。
　　3、能够综合运用计算机组成的基本原理和基本方法，对有关计算机硬件系统中的理论和实际问题进行计算、分析，对一些基本部件进行简单设计;并能对高级程序设计语言(如C语言)中的相关问题进行分析。
　　
　

## 计算机系统概述
###计算机发展历程

第一台电子数字计算机：ENIAC (Electronic Numerical Integrator And Computer)

摩尔定律：价格不变时，集成电路上可容纳的晶体管数目约 18 个月会增加一倍。18个月后同样的钱可以买到性能是现在性能两倍的cpu。

计算机分类：
- 单指令流和单数据流系统（传统冯•诺伊曼结构）
- 单指令流和多数据流系统（向量处理系统）
- 多指令流和单数据流系统（不存在的）
- 多指令流和多数据流（多处理器系统）

计算机发展两极化：更小和更大。

### 计算机系统层次结构
#### 计算机系统的基本组成及软硬件关系

计算机系统：软件系统和硬件系统。两者在逻辑上等效（并不等价），同一功能硬件实现效率更高。

![计算机系统组成](./assets\1-1计算机系统.png)

计算机系统分层结构如下图所示：

![计算机系统的分层结构](./assets\1-2计算机分层结构.png)

计算机硬件的基本组成

（插图：冯诺伊曼计算机结构，北邮课件）
显然，冯诺伊曼计算机是指令执行的计算机系统，故其基本工作方式为控制流（指令流）驱动方式。
（插图：存储器体系，csapp）

- 存储器
    - 存储字长：存储单元存储的二进制位数
    - 主存储器
        - MAR：用于**寻址**，位数与存储单元个数对应。长度与PC长度相等
        - MDR：长度与存储字长相等，即数据线的位数
          ps：现代计算机中MAR和MDR位于CPU中
    - 辅助存储器
- 运算器：算术运算和逻辑运算
    - Arithmetic Logical Unit ：算术逻辑单元
    - 通用寄存器：暂存操作数和中间结果，ACC、MQ、X、IX、BX等
    - 程序状态寄存器PSW
  - 控制器：指挥其他部件工作
      - PC：存放下一条执行的指令地址，取指后自增。
      - IR：存放当前执行的指令
      - CU：控制单元用来发出各种控制信号。

现代计算机：CPU=运算器+控制器

（插图：王道计算机组成框图）

#### 计算机工作过程

插图:csapp 程序的编译

1. 程序和数据装入主存
2. 从程序的起始地址运行程序
3. 从首地址取指、译指、运行，完成这条指令后并计算下一条指令的地址
4. 用新得到的指令地址继续取指、译指、执行直到程序结束为止。

### 计算机性能指标

吞吐量：单位时间内处理请求的数量。
响应时间：用户发送一个请求，系统对该请求作出响应并完成结果的时间。

CPU时钟周期：CPU的节拍脉冲，是CPU中最小的时间单位。
主频（CPU时钟频率）：通俗一点就是单位时间有多少个时钟周期。
CPI：执行一条指令所需的时钟周期数。这个属性是由硬件决定的，每个CPU在出厂时就已经决定了他的CPI，同一个CPU的CPI相等。而题目中给我们一段程序并提供指令比例和每条指令的CPI，让我们计算的是某段程序的平均CPI，所以如果通过执行不同的程序来测CPI的话，测得的计算机CPI可能是不同的。

MIPS：Million Instructions Per Second。每秒执行多少百万条指令 也就是用主频除以CPI。
MFLOPS：MIllion Floating-point Operations Per Second，每秒执行多少百万次浮点运算，这个指标最适合用于科学计算的计算机中。

机器字长：计算机一次能处理的二进制位数。32bit计算机也就是一次能处理 32bit信息，一般等于内部寄存器的大小。
存储字长：主存每个存储单元存储的二进制 bit 数。必须是字节的整数倍。
指令字长：一条指令包含的二进制 bit 数。长度一般取存储字长的整数倍方便存取，如果指令字长取存储字长的2倍，那么取一条指令需要2次访存，即取指周期为存取周期的二倍。

IR、MAR、MDR对任何程序猿都透明。

## 数据的表示和运算
### 数制与编码
进制转换（略）
真值和机器数（略）
####Binary-Coded Decimal ：二进制编码的十进制数
- 8421码: 有权码。4bit ，每位的权值分别是8、4、2、1。它本质上还是十进制数，所以当两个8421码相加和大于9时需要修正一下，进位。
  （插图：北邮ppt）
  字符与字符串（略）
#### 校验码
1. 奇偶校验码
2. 海明校验码
3. CRC冗余校验
  https://www.cnblogs.com/VersionP1/p/7779251.html

### 定点数的表示和运算

复制简书

## 存储器
插图 csapp存储器层次结构
王道90页三级存储系统插图

### 半导体随机存储器
#### SRAM：静态随机存储器
- 工作原理：触发器，所以即使信息被读出也不需要再生。
- 存取速度相比DRAM更快，所以价格贵得多，一般用来做cache
- 地址线引脚数：贵而且容量相对小，所以地址不需要分两次传，一次就行。

#### DRAM：动态随机存储器

- 工作原理：电容电荷存储信息。初中生都知道电容上的电荷只能维持一段时间，所以不需要读取，DRAM上的信息自己就消失了，所以每隔一段时间需要**刷新**。
- DRAM刷新
- 分散刷新
- 价格相对SRAM较低，需要刷新，一般用来做主存
- 主存地址单元的个数就相对非常多了，所以DRAM采用了地址复用技术，地址线时原来的二分之一，而且地址信号分行、列两次传送

#### ROM：只读存储器

ROM也是随机读取的存储器，信息一旦写入就固定不变了，即使断电也不会丢失，所以通常使用ROM存放一些固定不变的程序和数据，还有操作系统的固化。**RAM和ROM共同组成计算机主存的一部分**。